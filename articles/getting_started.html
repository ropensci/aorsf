<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting started • aorsf</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting started">
<meta property="og:description" content="aorsf">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">aorsf</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/getting_started.html">Getting started</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/bcjaeger/aorsf/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="getting_started_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Getting started</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/bcjaeger/aorsf/blob/HEAD/vignettes/getting_started.Rmd" class="external-link"><code>vignettes/getting_started.Rmd</code></a></small>
      <div class="hidden name"><code>getting_started.Rmd</code></div>

    </div>

    
    
<p>This vignette covers core features of the <code>aorsf</code> package. A separate vignette covers each feature in more detail.</p>
<ol style="list-style-type: decimal">
<li>For variable importance, see <code>variable_importance.Rmd</code>
</li>
<li>For two-way interactions, see <code>variable_interaction.Rmd</code>
</li>
<li>For partial dependence, see <code>partial_dependence.Rmd</code>
</li>
</ol>
<div class="section level1">
<h1 id="background-oblique-rsf">Background: Oblique RSF<a class="anchor" aria-label="anchor" href="#background-oblique-rsf"></a>
</h1>
<p>The oblique random survival forest (RSF) is an extension of the axis-based RSF algorithm. Numerous R packages offer axis-based splits for survival decision trees, including <code>RandomForestSRC</code>, <code>party</code>, and <code>ranger</code>.</p>
<div class="section level2">
<h2 id="what-is-an-oblique-decision-tree">What is an oblique decision tree?<a class="anchor" aria-label="anchor" href="#what-is-an-oblique-decision-tree"></a>
</h2>
<p>Decision trees are developed by splitting a set of training data into two new subsets, with the goal of having more similarity within the new subsets than between them. This splitting process is repeated on the resulting subsets of data until a stopping criterion is met. When the new subsets of data are formed based on a single predictor, the decision tree is said to be axis-based because the splits of the data appear perpendicular to the axis of the predictor. When linear combinations of variables are used instead of a single variable, the tree is oblique because the splits of the data are neither parallel nor at a right angle to the axis.</p>
<div class="figure">
<img src="tree_axis_v_oblique.png" alt="Decision trees for classification with axis-based splitting (left) and oblique splitting (right). Cases are orange squares; controls are purple circles. Both trees partition the predictor space defined by variables X1 and X2, but the oblique splits do a better job of separating the two classes." width="100%"><p class="caption">
Decision trees for classification with axis-based splitting (left) and oblique splitting (right). Cases are orange squares; controls are purple circles. Both trees partition the predictor space defined by variables X1 and X2, but the oblique splits do a better job of separating the two classes.
</p>
</div>
</div>
</div>
<div class="section level1">
<h1 id="accelerated-orsf">Accelerated ORSF<a class="anchor" aria-label="anchor" href="#accelerated-orsf"></a>
</h1>
<p>The purpose of <code>aorsf</code> is to provide routines to fit oblique RSFs that will scale adequately to large data sets. For example, <code><a href="../reference/orsf.html">aorsf::orsf()</a></code> runs about 500 times faster than its predecessor, <code>obliqueRSF::ORSF()</code>.</p>
<p>To fit an accelerated ORSF model, use the <code>orsf</code> function:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/bcjaeger/aorsf" class="external-link">aorsf</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">329</span><span class="op">)</span>

<span class="va">orsf_fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/orsf.html">orsf</a></span><span class="op">(</span>data_train <span class="op">=</span> <span class="va">pbc_orsf</span>, 
                 formula <span class="op">=</span> <span class="fu">Surv</span><span class="op">(</span><span class="va">time</span>, <span class="va">status</span><span class="op">)</span> <span class="op">~</span> <span class="va">.</span> <span class="op">-</span> <span class="va">id</span>, 
                 n_tree <span class="op">=</span> <span class="fl">2500</span><span class="op">)</span>

<span class="va">orsf_fit</span>
<span class="co">#&gt; ---------- Oblique random survival forest</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;           N observations: 276</span>
<span class="co">#&gt;                 N events: 111</span>
<span class="co">#&gt;                  N trees: 2500</span>
<span class="co">#&gt;       N predictors total: 17</span>
<span class="co">#&gt;    N predictors per node: 5</span>
<span class="co">#&gt;  Average leaves per tree: 19</span>
<span class="co">#&gt; Min observations in leaf: 5</span>
<span class="co">#&gt;       Min events in leaf: 1</span>
<span class="co">#&gt;          OOB C-statistic: 0.84</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; -----------------------------------------</span></code></pre></div>
<p>you may notice that the first input of <code>aorsf</code> is <code>data_train</code>. This is a design choice that makes it easier to use <code>orsf</code> with pipes (i.e., <code>%&gt;%</code> or <code>|&gt;</code>). For instance,</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span>

<span class="va">orsf_fit</span> <span class="op">&lt;-</span> <span class="va">pbc_orsf</span> |&gt; 
 <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">id</span><span class="op">)</span> |&gt; 
 <span class="fu"><a href="../reference/orsf.html">orsf</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="fu">Surv</span><span class="op">(</span><span class="va">time</span>, <span class="va">status</span><span class="op">)</span> <span class="op">~</span> <span class="va">.</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level1">
<h1 id="variable-importance">Variable importance<a class="anchor" aria-label="anchor" href="#variable-importance"></a>
</h1>
<p>The coefficients that are used in linear combinations of input variables are a unique characteristic of ORSF that can be used for model interpretation.</p>
<p>For example, to estimate the importance of a variable, ORSF multiplies each coefficient of that variable by -1 and then re-computes the out-of-sample (sometimes referred to as out-of-bag) accuracy of the ORSF model.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">variable_importance</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/orsf_vi.html">orsf_vi</a></span><span class="op">(</span><span class="va">orsf_fit</span><span class="op">)</span>

<span class="va">variable_importance</span>
<span class="co">#&gt;          bili           age        copper       protime       ascites </span>
<span class="co">#&gt;  0.0153637831  0.0125514296  0.0073954482  0.0061975939  0.0056767877 </span>
<span class="co">#&gt;         stage       spiders           sex         edema           ast </span>
<span class="co">#&gt;  0.0048434977  0.0042706109  0.0038018853  0.0030777167  0.0026040310 </span>
<span class="co">#&gt;        hepato       albumin      alk.phos          trig          chol </span>
<span class="co">#&gt;  0.0022915473  0.0014061768  0.0002604031 -0.0001562419 -0.0007812093 </span>
<span class="co">#&gt;           trt      platelet </span>
<span class="co">#&gt; -0.0011978543 -0.0023436279</span></code></pre></div>
</div>
<div class="section level1">
<h1 id="variable-interaction">Variable interaction<a class="anchor" aria-label="anchor" href="#variable-interaction"></a>
</h1>
<p>Another application of linear combination coefficients is measuring a two-way interaction score. ORSF’s two-way interaction score for a pair of predictors is the proportion of variability in the coefficient of one predictor explained by the mean of the other. So if one predictor’s coefficient is highly correlated with another predictor’s mean value, the two-way interaction score will be high (maximum value of the score is 1). If there is no correlation between the coefficient of one predictor and the mean value of another, the two-way interaction score will be low (minimum value of the score is 0).</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">variable_interaction</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/orsf_interaction.html">orsf_interaction</a></span><span class="op">(</span><span class="va">orsf_fit</span><span class="op">)</span>

<span class="va">variable_interaction</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="op">]</span>
<span class="co">#&gt;           v1       v2      value</span>
<span class="co">#&gt; 1:   edema_1     bili 0.09516179</span>
<span class="co">#&gt; 2: ascites_1     bili 0.08722359</span>
<span class="co">#&gt; 3: ascites_1 hepato_1 0.08607192</span>
<span class="co">#&gt; 4:  hepato_1  edema_1 0.08104954</span>
<span class="co">#&gt; 5:   edema_1   copper 0.07484794</span></code></pre></div>
</div>
<div class="section level1">
<h1 id="partial-dependence">Partial dependence<a class="anchor" aria-label="anchor" href="#partial-dependence"></a>
</h1>
<p>The <code><a href="../reference/orsf_interaction.html">orsf_interaction()</a></code> function indicated that <code>ascites</code> and <code>bili</code> have a strong interaction score, and the <code><a href="../reference/orsf_vi.html">orsf_vi()</a></code> function indicated that <code>bili</code> is the most important predictor. We can use the <code>orsf_pd()</code> function (pd stands for partial dependence) to explore how these variables influence predicted risk from ORSF.</p>
<p>We’ll use <code>orsf_pd_summary</code> below to compute the expected predicted risk for a range of <code>bili</code> values when <code>ascites</code> is either 0 or 1.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">pd_spec</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>ascites <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"0"</span>,<span class="st">"1"</span><span class="op">)</span>,
                bili <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0.6</span>, <span class="fl">7.1</span>, by <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span><span class="op">)</span>

<span class="va">pd_data</span> <span class="op">&lt;-</span>
 <span class="fu"><a href="../reference/orsf_pd_summary.html">orsf_pd_summary</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">orsf_fit</span>,
                 pd_spec <span class="op">=</span> <span class="va">pd_spec</span>,
                 times <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span>

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">pd_data</span><span class="op">)</span> <span class="op">+</span>
 <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">bili</span>, y <span class="op">=</span> <span class="va">mean</span>, col <span class="op">=</span> <span class="va">ascites</span><span class="op">)</span> <span class="op">+</span>
 <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
 <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>y <span class="op">=</span> <span class="st">'Predicted risk'</span>,
      x <span class="op">=</span> <span class="st">'Bilirubin'</span>,
      title <span class="op">=</span> <span class="st">'Partial dependence of bilirubin and ascites'</span><span class="op">)</span></code></pre></div>
<p><img src="getting_started_files/figure-html/unnamed-chunk-6-1.png" width="672"></p>
<p>The presence of ascites clearly has a large effect on predicted risk, which makes it hard to see the interaction effect in this plot. We’ll align the partial dependence values for both ascites groups so that both curves will start at a prediction of 0</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># aligning predictions at lowest value of bili</span>
<span class="va">min_asc_0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">pd_data</span>, <span class="va">mean</span><span class="op">[</span><span class="va">ascites</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="va">bili</span> <span class="op">==</span> <span class="fl">0.6</span><span class="op">]</span><span class="op">)</span>
<span class="va">min_asc_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">pd_data</span>, <span class="va">mean</span><span class="op">[</span><span class="va">ascites</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="va">bili</span> <span class="op">==</span> <span class="fl">0.6</span><span class="op">]</span><span class="op">)</span>

<span class="va">pd_data_aligned</span> <span class="op">&lt;-</span>
 <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">within</a></span><span class="op">(</span><span class="va">pd_data</span>, <span class="op">{</span>
  <span class="va">mean</span><span class="op">[</span><span class="va">ascites</span> <span class="op">==</span> <span class="fl">0</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">mean</span><span class="op">[</span><span class="va">ascites</span> <span class="op">==</span> <span class="fl">0</span><span class="op">]</span> <span class="op">-</span> <span class="va">min_asc_0</span>
  <span class="va">mean</span><span class="op">[</span><span class="va">ascites</span> <span class="op">==</span> <span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">mean</span><span class="op">[</span><span class="va">ascites</span> <span class="op">==</span> <span class="fl">1</span><span class="op">]</span> <span class="op">-</span> <span class="va">min_asc_1</span>
 <span class="op">}</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">pd_data_aligned</span><span class="op">)</span>
<span class="co">#&gt;    ascites bili         mean         lwr       medn       upr</span>
<span class="co">#&gt; 1:       0  0.6 0.0000000000 0.005571336 0.05164828 0.5479384</span>
<span class="co">#&gt; 2:       1  0.6 0.0000000000 0.112882689 0.20368704 0.7139951</span>
<span class="co">#&gt; 3:       0  0.7 0.0007918855 0.005450950 0.05087316 0.5511908</span>
<span class="co">#&gt; 4:       1  0.7 0.0009444713 0.113058207 0.20441990 0.7175981</span>
<span class="co">#&gt; 5:       0  0.8 0.0017398735 0.005524165 0.05280451 0.5569397</span>
<span class="co">#&gt; 6:       1  0.8 0.0020742942 0.113703363 0.20568055 0.7206198</span></code></pre></div>
<p>With the aligned partial dependence values we can see the interaction effect clearly. Increasing bilirubin solicits a greater increase in predicted risk for patients who do not have ascites versus patients who do. This is fairly intuitive as increased bilirubin may be a sign of undetected ascites.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">pd_data_aligned</span><span class="op">)</span> <span class="op">+</span>
 <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">bili</span>, y <span class="op">=</span> <span class="va">mean</span>, col <span class="op">=</span> <span class="va">ascites</span><span class="op">)</span> <span class="op">+</span>
 <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
 <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>y <span class="op">=</span> <span class="st">'predicted risk, centered at Bilirubin = 0.6'</span>,
      x <span class="op">=</span> <span class="st">'Bilirubin'</span>,
      title <span class="op">=</span> <span class="st">'Interaction between bilirubin and ascites'</span><span class="op">)</span></code></pre></div>
<p><img src="getting_started_files/figure-html/unnamed-chunk-8-1.png" width="672"></p>
</div>
<div class="section level1">
<h1 id="what-about-the-old-orsf">What about the old ORSF?<a class="anchor" aria-label="anchor" href="#what-about-the-old-orsf"></a>
</h1>
<p>The old ORSF (i.e., <code>obliqueRSF</code>) used <code>glmnet</code> to find linear combinations of inputs. <code>aorsf</code> allows users to implement this approach using the <code><a href="../reference/orsf_control_net.html">orsf_control_net()</a></code> function:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">orsf_net</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/orsf.html">orsf</a></span><span class="op">(</span>data_train <span class="op">=</span> <span class="va">pbc_orsf</span>, 
                 formula <span class="op">=</span> <span class="fu">Surv</span><span class="op">(</span><span class="va">time</span>, <span class="va">status</span><span class="op">)</span> <span class="op">~</span> <span class="va">.</span> <span class="op">-</span> <span class="va">id</span>, 
                 control <span class="op">=</span> <span class="fu"><a href="../reference/orsf_control_net.html">orsf_control_net</a></span><span class="op">(</span><span class="op">)</span>,
                 n_tree <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></code></pre></div>
<p>Note that the <code>net</code> approach is a fair bit slower than the <code>cph</code> one!</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># tracking how long it takes to fit 50 glmnet trees</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span>
 <span class="fu"><a href="https://rdrr.io/r/base/system.time.html" class="external-link">system.time</a></span><span class="op">(</span>
  <span class="fu"><a href="../reference/orsf.html">orsf</a></span><span class="op">(</span>data_train <span class="op">=</span> <span class="va">pbc_orsf</span>, 
       formula <span class="op">=</span> <span class="fu">Surv</span><span class="op">(</span><span class="va">time</span>, <span class="va">status</span><span class="op">)</span> <span class="op">~</span> <span class="va">.</span> <span class="op">-</span> <span class="va">id</span>, 
       control <span class="op">=</span> <span class="fu"><a href="../reference/orsf_control_net.html">orsf_control_net</a></span><span class="op">(</span><span class="op">)</span>,
       n_tree <span class="op">=</span> <span class="fl">50</span><span class="op">)</span>
 <span class="op">)</span>
<span class="op">)</span>
<span class="co">#&gt;    user  system elapsed </span>
<span class="co">#&gt;   3.415   0.000   3.416</span>

<span class="co"># and how long it takes to fit 50 cph trees</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span>
 <span class="fu"><a href="https://rdrr.io/r/base/system.time.html" class="external-link">system.time</a></span><span class="op">(</span>
  <span class="fu"><a href="../reference/orsf.html">orsf</a></span><span class="op">(</span>data_train <span class="op">=</span> <span class="va">pbc_orsf</span>, 
       formula <span class="op">=</span> <span class="fu">Surv</span><span class="op">(</span><span class="va">time</span>, <span class="va">status</span><span class="op">)</span> <span class="op">~</span> <span class="va">.</span> <span class="op">-</span> <span class="va">id</span>, 
       control <span class="op">=</span> <span class="fu"><a href="../reference/orsf_control_cph.html">orsf_control_cph</a></span><span class="op">(</span><span class="op">)</span>,
       n_tree <span class="op">=</span> <span class="fl">50</span><span class="op">)</span>
 <span class="op">)</span>
<span class="op">)</span>
<span class="co">#&gt;    user  system elapsed </span>
<span class="co">#&gt;   0.027   0.000   0.027</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Byron Jaeger.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
